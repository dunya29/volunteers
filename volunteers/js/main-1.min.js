document.addEventListener("DOMContentLoaded",(()=>{function e(){const e=".js-select-btn",t=".js-select-list",s=".js-select-option",o="active",c=document.querySelectorAll(".js-select");function n(){const s=document.querySelectorAll(e),c=document.querySelectorAll(t);s.forEach((e=>e.classList.remove(o))),c.forEach((e=>e.classList.remove(o)))}c.length&&(c.forEach((c=>{const r=c.querySelector(e),l=c.querySelector(t),a=l.querySelectorAll(s);r.addEventListener("click",(t=>{const s=t.target.closest(e);s.classList.contains(o)?(s.classList.remove(o),l.classList.remove(o)):(n(),s.classList.add(o),l.classList.add(o))})),l.addEventListener("click",(e=>{const t=e.target.closest(s);if(t){const e=t.getAttribute("data-value"),s=t.innerHTML,c=t.textContent;a.forEach((e=>e.classList.remove(o))),t.classList.add(o),r.classList.remove(o),r.innerHTML=s,r.setAttribute("data-value",e),l.classList.remove(o),console.log(c),document.getElementById("select-service").value=c}}))})),document.addEventListener("click",(e=>{const t=e.target;t&&!t.closest(".js-select")&&n()})))}e();const t=document.querySelector(".focus__swiper");if(console.log(t),t){const e=new Swiper(t,{slidesPerView:"auto",loop:!1,effect:"fade",autoplay:{delay:2e3,disableOnInteraction:!1},navigation:{nextEl:".focus__next",prevEl:".focus__prev"}});e.on("slideChange",(function(){s.forEach((e=>{e.classList.remove("active")})),document.querySelector(`.focus-articles__item[data-index="${e.realIndex}"]`).classList.add("active")}));const s=document.querySelectorAll(".focus-articles__item");s.forEach(((t,o)=>{t.setAttribute("data-index",o),t.addEventListener("click",(t=>{const o=t.currentTarget.dataset.index;s.forEach((e=>{e.classList.remove("active")})),t.currentTarget.classList.add("active"),e.slideTo(o)}))}))}if(function(){const e=window,t=(document,document.documentElement),s=document.body,o=document?.querySelector(".header").offsetHeight;document.querySelector(":root").style.setProperty("--header-height",`${o}px`);const c=document?.querySelector("[data-burger]"),n=document?.querySelector("[data-menu]");c?.addEventListener("click",(o=>{c?.classList.toggle("burger--active"),n?.classList.toggle("menu--active"),n?.classList.contains("menu--active")?(c?.setAttribute("aria-expanded","true"),c?.setAttribute("aria-label","Закрыть меню"),function(){const o=document?.querySelectorAll(".fixed-block"),c=window.scrollY,n=e.innerWidth-s.offsetWidth+"px";t.style.scrollBehavior="none",o.forEach((e=>{e.style.paddingRight=n})),s.style.paddingRight=n,s.classList.add("dis-scroll"),s.dataset.position=c,s.style.top=`-${c}px`}()):(c?.setAttribute("aria-expanded","false"),c?.setAttribute("aria-label","Открыть меню"),function(){const e=document?.querySelectorAll(".fixed-block"),o=(document.body,parseInt(s.dataset.position,10));e.forEach((e=>{e.style.paddingRight="0px"})),s.style.paddingRight="0px",s.style.top="auto",s.classList.remove("dis-scroll"),window.scroll({top:o,left:0}),s.removeAttribute("data-position"),t.style.scrollBehavior="smooth"}())}));const r=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)};window.addEventListener("resize",r),r()}(),document.querySelectorAll(".dropdown-footer").forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget,s=(t.querySelector(".footer-link"),t.querySelector(".footer-nav"));console.log(t),t.classList.toggle("open"),t.classList.contains("open")?s.style.maxHeight=s.scrollHeight+"px":s.style.maxHeight=null}))})),document.getElementById("phone-number")){(()=>{const e=e=>{let t="+7 (___) ___-__-__",s=0,o=t.replace(/\D/g,""),c=e.value.replace(/\D/g,"");o.length>=c.length&&(c=o),e.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&s<c.length?c.charAt(s++):s>=c.length?"":e}))},t=document.getElementById("phone-number");t.addEventListener("click",(function(){t.addEventListener("input",e.bind(null,t),!1),t.addEventListener("focus",e.bind(null,t),!1),t.addEventListener("blur",e.bind(null,t),!1)}))})()}gsap.registerPlugin(ScrollTrigger),gsap.to(".hero",{scrollTrigger:{trigger:".hero",start:"1800 bottom",scrub:!0},opacity:0});const s=new Swiper(".swiper--topical-thumb",{slidesPerView:"auto",freeMode:!1,watchSlidesProgress:!1,allowTouchMove:!1}),o=(new Swiper(".swiper--topical",{spaceBetween:10,slidesPerView:"auto",navigation:{nextEl:".topical__next",prevEl:".topical__prev"},pagination:{el:".swiper-pagination",type:"progressbar"},thumbs:{swiper:s},on:{slideChange(){const e=this.realIndex+1;document.querySelector(".current-slide").textContent=e},beforeInit(){const e=this.wrapperEl.querySelectorAll(".swiper-slide").length;document.querySelector(".total-slides").textContent=e}}}),document.querySelectorAll(".js-show-popup")),c=document.querySelectorAll(".js-popup"),n=document.body,r=document.querySelector(".js-overlay"),l="active",a="overflow",i=(()=>{const e=e=>{e&&(n.classList.remove(a),r.classList.remove(l),e.classList.remove(l),document.querySelector(".active[data-content]")&&document.querySelector(".active[data-tab]")&&(document.querySelector(".active[data-content]").classList.remove(l),document.querySelector(".active[data-tab]").classList.remove(l)))},t=()=>{o.length&&o.forEach((e=>{e.addEventListener("click",(e=>{(e=>{const t=e.target.closest(".js-show-popup"),s=document.querySelector(".js-popup.active"),o=document.querySelector(`[data-popup=${t.dataset.trigger}]`);s&&s.classList.remove(l),t.dataset.tab&&(o.querySelector(`[data-tab="${t.dataset.tab}"]`).classList.add(l),o.querySelector(`[data-content="${t.dataset.tab}"]`).classList.add(l)),o.classList.add(l),n.classList.add(a),r.classList.add(l)})(e)}))})),r&&r.addEventListener("click",(()=>{e(document.querySelector(".js-popup.active"))})),c.length&&c.forEach((t=>{t.addEventListener("click",(s=>{s.target.closest(".js-popup-close")&&e(t)}))}))};return{init:()=>{c.length&&t()}}})();jQuery(document).ready((function(t){document.addEventListener("wpcf7mailsent",(function(t){document.querySelector("[data-popup=some-popup]").classList.add(l),n.classList.add(a),r.classList.add(l),console.log(e)}),!1)})),i.init()}));